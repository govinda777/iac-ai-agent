# Smart Contracts CI/CD Infrastructure

## 📁 Estrutura de Diretórios

```
contracts/
├── src/
│   ├── IACaiToken.sol          # Token ERC-20 para pagamentos
│   ├── NationPassNFT.sol       # NFT ERC-721 para acesso
│   ├── AgentContract.sol       # Contrato principal do agente
│   └── interfaces/
│       ├── IERC20Extended.sol  # Interface estendida ERC-20
│       └── IERC721Extended.sol # Interface estendida ERC-721
├── test/
│   ├── IACaiToken.t.sol        # Testes do token
│   ├── NationPassNFT.t.sol     # Testes do NFT
│   └── AgentContract.t.sol     # Testes do agente
├── script/
│   ├── Deploy.s.sol            # Script de deploy principal
│   ├── Verify.s.sol            # Script de verificação
│   └── Upgrade.s.sol           # Script de upgrade
└── foundry.toml                 # Configuração do Foundry
```

## 🛠️ Configuração do Foundry

```toml
[profile.default]
src = "src"
out = "out"
libs = ["lib"]
solc = "0.8.20"
optimizer = true
optimizer_runs = 200
via_ir = false
verbosity = 2
fuzz = { runs = 1000 }
invariant = { runs = 256, depth = 15, fail_on_revert = false }
gas_reports = ["*"]
gas_reports_ignore = ["test"]

[profile.ci]
optimizer = true
optimizer_runs = 200
via_ir = true
fuzz = { runs = 10000 }
invariant = { runs = 1000, depth = 20 }

[profile.mainnet]
optimizer = true
optimizer_runs = 1000
via_ir = true
gas_reports = ["*"]

[rpc_endpoints]
base_mainnet = "https://mainnet.base.org"
base_sepolia = "https://sepolia.base.org"
local = "http://localhost:8545"

[etherscan]
base = { key = "${ETHERSCAN_API_KEY}", url = "https://api.basescan.org/api" }
base_sepolia = { key = "${ETHERSCAN_API_KEY}", url = "https://api-sepolia.basescan.org/api" }
