# Smart Contracts CI/CD Infrastructure

## ğŸ“ Estrutura de DiretÃ³rios

```
contracts/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ IACaiToken.sol          # Token ERC-20 para pagamentos
â”‚   â”œâ”€â”€ NationPassNFT.sol       # NFT ERC-721 para acesso
â”‚   â”œâ”€â”€ AgentContract.sol       # Contrato principal do agente
â”‚   â””â”€â”€ interfaces/
â”‚       â”œâ”€â”€ IERC20Extended.sol  # Interface estendida ERC-20
â”‚       â””â”€â”€ IERC721Extended.sol # Interface estendida ERC-721
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ IACaiToken.t.sol        # Testes do token
â”‚   â”œâ”€â”€ NationPassNFT.t.sol     # Testes do NFT
â”‚   â””â”€â”€ AgentContract.t.sol     # Testes do agente
â”œâ”€â”€ script/
â”‚   â”œâ”€â”€ Deploy.s.sol            # Script de deploy principal
â”‚   â”œâ”€â”€ Verify.s.sol            # Script de verificaÃ§Ã£o
â”‚   â””â”€â”€ Upgrade.s.sol           # Script de upgrade
â””â”€â”€ foundry.toml                 # ConfiguraÃ§Ã£o do Foundry
```

## ğŸ› ï¸ ConfiguraÃ§Ã£o do Foundry

```toml
[profile.default]
src = "src"
out = "out"
libs = ["lib"]
solc = "0.8.20"
optimizer = true
optimizer_runs = 200
via_ir = false
verbosity = 2
fuzz = { runs = 1000 }
invariant = { runs = 256, depth = 15, fail_on_revert = false }
gas_reports = ["*"]
gas_reports_ignore = ["test"]

[profile.ci]
optimizer = true
optimizer_runs = 200
via_ir = true
fuzz = { runs = 10000 }
invariant = { runs = 1000, depth = 20 }

[profile.mainnet]
optimizer = true
optimizer_runs = 1000
via_ir = true
gas_reports = ["*"]

[rpc_endpoints]
base_mainnet = "https://mainnet.base.org"
base_sepolia = "https://sepolia.base.org"
local = "http://localhost:8545"

[etherscan]
base = { key = "${ETHERSCAN_API_KEY}", url = "https://api.basescan.org/api" }
base_sepolia = { key = "${ETHERSCAN_API_KEY}", url = "https://api-sepolia.basescan.org/api" }
